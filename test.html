<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>

    const p = new Promise((resolve, reject) => {
      reject('失败')
    })

    p.then((value) => {
      console.log(value)
      return value
    }).catch((err) => {
      console.log(err)  // 失败
      return Promise.reject(200)
    }).then((value) => {
      console.log(value)
    })

    // const p1 = new Promise((resolve, reject) => {
    //   resolve(100)
    // })

    // p1.then((value) => {
    //   console.log(value)  // 100
    // })

    // console.log(p1)
    // const p2 = new Promise((resolve, reject) => {
    //   resolve(100)
    // })

    // console.log(p2)

    // const p2 = new Promise((resolve, reject) => {
    //   reject('错误')
    // })
    // p2.then((value) => {
    //   console.log(value)
    // }, (err) => {
    //   console.log(err)  // 错误
    // })

    // console.log(p2)
    // 'use strict'
    // console.log(this)
    // Function.prototype.myCall = function (context) {
    //   context = context || window;

    //   context.fn = this;

    //   const args = [...arguments].slice(1);

    //   const result = context.fn(...args);

    //   delete context.fn;

    //   return result;
    // };

    // function greet(number) {
    //   console.log(`Hello, ${this.name}!, 学号 ${number}`);
    // }

    // const person = {
    //   name: 'John'
    // };

    // greet.myCall(person, 123); // 输出：Hello, John!
    // greet.call(person, 123)

    // greet.myCall(); // 输出：Hello, John!
    // greet.call()

    // function Student(name) {
    //   this.name = name;
    //   console.log(this);  // xialuo 对象
    // }
    // const xialuo = new Student('夏洛');

    // const zhangsan = {
    //   name: "zhangsan",
    //   sayHi() {
    //     console.log(this); // zhangsan 对象
    //   },
    //   wait() {
    //     setTimeout(function () {
    //       console.log(this); // Window 对象
    //     }, 1000);
    //   },
    //   todo() {
    //     setTimeout(() => {
    //       console.log(this); // zhangsan 对象
    //     }, 1000);
    //   },
    // };
    // zhangsan.sayHi();
    // zhangsan.wait();
    // zhangsan.todo();

    // 非严格模式下
    // function fn() {
    //    console.log(this); // Window 对象
    //  }
    //  fn();

    // 严格模式下
    // function fn() {
    //   "use strict"; // 开启严格模式
    //   console.log(this); // undefined
    // }
    // fn();

    // function test() {
    //   if (true) {
    //     // 块级作用域
    //     var x = 1
    //     let y = 2
    //     const z = 3
    //   }
    //   console.log(x)  // 1
    //   console.log(y)  // y is not defined
    //   console.log(z)  // z is not defined
    // }
    // test()

    // var globalVar = "global";

    // function globalFunction() {
    //   console.log("I am a global function")
    // }

    // function outerFunction() {
    //   var outerVar = "outer";

    //   function innerFunction() {
    //     var innerVar = "inner";
    //     console.log(innerVar); // 在当前函数作用域中找到 innerVar
    //     console.log(outerVar); // 在父级函数作用域中找到 outerVar
    //     console.log(globalVar); // 在全局作用域中找到 globalVar
    //   }

    //   innerFunction();
    //   globalFunction();
    // }

    // outerFunction();
  </script>
</body>

</html>