/**
@description æ•°å­—æ¯åƒåˆ†ä½ç”¨é€—å·éš”å¼€
@author Colbyzn
 */

/**
è¾“å…¥ï¼š12345678
è¾“å‡ºï¼š"12,345,678"
è§£é‡Šï¼š

%
 */

/**
ğŸ“¢ å‚è€ƒç­”æ¡ˆï¼š

### é¢˜è§£

#### æ€è·¯æç‚¼

1. å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²
2. å®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨ countï¼Œç”¨äºåˆ¤æ–­ä½•æ—¶æ·»åŠ é€—å·
3. å€’åºéå†å­—ç¬¦ä¸²ï¼Œä¾æ¬¡æ‹¼æ¥ï¼Œæ¯æ•°åˆ°ä¸‰ä½å°±åœ¨ç»“æœå­—ç¬¦ä¸²çš„å‰é¢æ·»åŠ ä¸€ä¸ªé€—å·
4. éå†ç»“æŸï¼Œè¿”å›ç»“æœå­—ç¬¦ä¸²

#### è¾¹ç•Œå¤„ç†/æ³¨æ„ç‚¹

- è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ•°å­—å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåƒåˆ†ä½æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²
- å½“æ•°å­—æ€»ä¸ªæ•°åˆšå¥½ä¸º 3 çš„å€é€Ÿï¼Œä¾‹å¦‚ï¼Œ123 â†’ ",123"ï¼Œä¸ºäº†é¿å…åœ¨å¼€å¤´æ·»åŠ é€—å·ï¼Œéœ€è¦å¢åŠ åˆ¤æ–­æ¡ä»¶ `i !== 0`
- æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ï¼Œé¡ºåºåˆ«å†™åäº†ï¼Œå¿…é¡»æ˜¯é€—å·ã€å½“å‰å­—ç¬¦ä¸² str[i] åœ¨å‰ï¼Œç»“æœå­—ç¬¦ä¸² res åœ¨å
- è®°å¾—é‡ç½®è®¡æ•°å™¨

#### ä»£ç 
 */

function formatNumber(num) {
  let res = ''
  let count = 0

  const str = num.toString()

  const length = str.length
  for (let i = length - 1; i >= 0; i--) {
    const s = str[i];
    // æ‹¼æ¥æ—¶ï¼Œå¿…é¡» s åœ¨å‰ï¼Œres åœ¨å
    res = s + res
    count++

    // å¢åŠ åˆ¤æ–­æ¡ä»¶ `i !== 0`ï¼Œé¿å…åœ¨å¼€å¤´æ·»åŠ é€—å·
    if (count === 3 && i !== 0) {
      // æ‹¼æ¥æ—¶ï¼Œå¿…é¡»é€—å·åœ¨å‰ï¼Œres åœ¨å
      res = ',' + res
      // è®°å¾—é‡ç½®è®¡æ•°å™¨
      count = 0
    }
  }

  return res
}

// æµ‹è¯•ç”¨ä¾‹
console.log(formatNumber(1)); // è¾“å‡º: "12,345,678"
console.log(formatNumber(12)); // è¾“å‡º: "12,345,678"
console.log(formatNumber(123)); // è¾“å‡º: "12,345,678"
console.log(formatNumber(12345678)); // è¾“å‡º: "12,345,678"